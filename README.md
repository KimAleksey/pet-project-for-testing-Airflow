# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É Airflow –∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–µ–º–æ-–±–∞–∑—ã PostgreSQL

## üìÅ 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–∞–ø–æ–∫ –¥–ª—è Airflow

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
mkdir -p ./logs ./plugins ./config
echo -e "AIRFLOW_UID=$(id -u)" > .env
```

–≠—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Airflow –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

---

## ‚ñ∂Ô∏è 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

–î–ª—è —Å—Ç–∞—Ä—Ç–∞ –≤—Å–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
docker compose up -d
```

---

## üì• 3. –°–∫–∞—á–∞—Ç—å –¥–µ–º–æ-–±–∞–∑—É

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ —Å–∫–∞—á–∞–π—Ç–µ –¥–µ–º–æ-–±–∞–∑—É PostgreSQL:

üîó [https://postgrespro.ru/education/demodb](https://postgrespro.ru/education/demodb)

–í—ã –ø–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª —Ñ–æ—Ä–º–∞—Ç–∞:

```
demo-YYYYMMDD-Nm.sql.gz
```
–í–æ–∑–º–æ–∂–Ω–æ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä—É–µ—Ç —Ñ–∞–π–ª. –£–±–µ—Ä–∏—Ç–µ —ç—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞–Ω–æ–≤–æ.
---

## üîç 4. –ù–∞–π—Ç–∏ –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å PostgreSQL

–í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
docker ps
```

–ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PostgreSQL.
–ü—Ä–∏–º–µ—Ä –∏–º–µ–Ω–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```
ec7ba1e1f53b
```

---

## üóÑÔ∏è 5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–µ–º–æ-–±–∞–∑—É –≤ PostgreSQL

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
gunzip -c <file_path> | docker exec -i <container_name> psql -U postgres
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
gunzip -c "/Users/kimaleksei/Downloads/demo-20250901-3m.sql.gz" | docker exec -i 841597093ba0 psql -U postgres

–ì–¥–µ:
* `<file_path>` ‚Äî –ø—É—Ç—å –∫ —Å–∫–∞—á–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É `.sql.gz`
* `<container_name>` ‚Äî –∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL

### ‚úîÔ∏è –ü—Ä–∏–º–µ—Ä:

```bash
gunzip -c /Users/kimaleksei/Downloads/demo-20250901-2y.sql.gz \
  | docker exec -i dd446b02cffe psql -U postgres
```

–î–æ–∂–¥–∏—Ç–µ—Å—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –∏–º–ø–æ—Ä—Ç –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç.
